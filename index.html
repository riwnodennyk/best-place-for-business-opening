<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta http-equiv="Cache-Control" content="max-age=31536000">

    <!-- ✅ SEO-Optimized Title and Meta Description -->
    <title id="page-title" data-translate="pageTitle"></title>
    <!-- ✅ Meta Description for Better Google Ranking -->
    <meta name="description"
        content="Estimate foot traffic for your business location using our free interactive map. Plan your store, restaurant, or office based on real-world data.">
    <!-- ✅ Meta Keywords (Not as important as before, but still useful) -->
    <meta name="keywords"
        content="foot traffic, free, tool, business location, customer flow, store planning, retail site selection, commercial real estate, Deutschland, Україна, France, UK, Polska">

    <!-- ✅ Open Graph (Facebook & LinkedIn) -->
    <meta property="og:title" content="Best Place for Business Opening | Foot Traffic Estimator">
    <meta property="og:description"
        content="Discover the best locations for your business with our foot traffic estimation tool.">
    <meta property="og:image" content="https://riwnodennyk.github.io/best-place-for-business-opening/og-image.webp">
    <meta property="og:url" content="https://riwnodennyk.github.io/best-place-for-business-opening/">
    <meta property="og:type" content="website">

    <!-- ✅ Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Best Place for Business Opening">
    <meta name="twitter:description" content="Plan your new business with foot traffic analysis.">
    <meta name="twitter:image" content="https://riwnodennyk.github.io/best-place-for-business-opening/og-image.webp">
    <!-- ✅ Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="canonical" href="https://foottraffic.site/">

    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebApplication",
            "name": "Foot Traffic Estimator",
            "url": "https://riwnodennyk.github.io/best-place-for-business-opening/",
            "logo": "https://riwnodennyk.github.io/best-place-for-business-opening/favicon.png",
            "description": "A free tool to estimate foot traffic for businesses and retail locations.",
            "applicationCategory": "BusinessApplication",
            "operatingSystem": "All",
            "browserRequirements": "Requires JavaScript",
            "offers": {
              "@type": "Offer",
              "price": "0",
              "priceCurrency": "UAH"
            },
            "sameAs": [
              "https://www.facebook.com/riwnodennyk",
              "https://twitter.com/riwnodennyk"
            ]
          }
    </script>

    <script>
        if (window.location.hostname !== "localhost" && !window.location.hostname.startsWith("127.")) {
            // Load GA4 script dynamically
            var gtagScript = document.createElement("script");
            gtagScript.async = true;
            gtagScript.src = "https://www.googletagmanager.com/gtag/js?id=G-KBDFV0C6KF";
            document.head.appendChild(gtagScript);

            // Ensure gtag is globally available
            window.dataLayer = window.dataLayer || [];
            window.gtag = function () { dataLayer.push(arguments); };

            // Wait for GA4 script to load before calling config
            gtagScript.onload = function () {
                gtag('js', new Date());
                gtag('config', 'G-KBDFV0C6KF');
            };
        } else {
            console.log("Google Analytics tracking is disabled on localhost.");
            window.gtag = function () { console.warn("GA4 disabled, event skipped."); };
        }
    </script>

    <!-- ✅ External Stylesheets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.3/leaflet.css" />
    <!-- ✅ JavaScript Dependencies -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.locatecontrol/dist/L.Control.Locate.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />

    <!-- ✅ Preload Google Fonts -->
    <link rel="preload"
        href="https://fonts.googleapis.com/css2?family=Sofia+Sans:ital,wght@0,1..1000;1,1..1000&display=swap" as="style"
        onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Sofia+Sans:ital,wght@0,1..1000;1,1..1000&display=swap">
    </noscript>

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="header.css" />
    <link rel="stylesheet" href="chips_and_slider.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- ✅ External Translations File -->
    <script src="foot_traffic_translation.js" type="module"></script>
    <script src="/scripts/tracking.js" type="module"></script>
</head>

<body>
    <!-- ✅ Header Overlay -->
    <header class="header-overlay" id="title-block">
        <h1 data-translate="headerTitle"></h1>
        <p data-translate="headerSubtitle"></p>
    </header>
    <div id="controls-container">
        <!-- Foot Traffic Threshold Slider -->
        <div id="slider-container">
            <label for="traffic-slider" id="traffic-slider-label" data-translate="trafficSliderLabel"></label>
            <input type="range" id="traffic-slider" min="1" max="55" value="1" aria-label="Foot Traffic Threshold">
            <span id="slider-value">1</span>
        </div>
        <!-- City Chips Scroll Buttons & Container -->
        <div id="chips-wrapper">
            <button id="scroll-left" class="scroll-btn left" aria-label="Scroll Left">&lt;</button>
            <div id="city-chips-container" role="listbox">
                <button class="city-chip" data-lat="51.5074" data-lon="-0.1278" data-translate="london"
                    role="option"></button>
                <button class="city-chip" data-lat="40.7128" data-lon="-74.0060" data-translate="newYork"
                    role="option"></button>
                <button class="city-chip" data-lat="-6.8196329" data-lon="39.2833227" data-translate="darEsSalam"
                    role="option"></button>
                <button class="city-chip" data-lat="23.595555" data-lon="58.431094" data-translate="muscat"
                    role="option"></button>
                <button class="city-chip" data-lat="50.4501445" data-lon="30.5219293" data-translate="kyiv"
                    role="option"></button>
                <button class="city-chip" data-lat="49.839229" data-lon="24.028048" data-translate="lviv"
                    role="option"></button>
                <button class="city-chip" data-lat="35.6895" data-lon="139.6917" data-translate="tokyo"
                    role="option"></button>
                <button class="city-chip" data-lat="48.8566" data-lon="2.3522" data-translate="paris"
                    role="option"></button>
                <button class="city-chip" data-lat="52.5200" data-lon="13.4050" data-translate="berlin"
                    role="option"></button>
                <button class="city-chip" data-lat="-33.8688" data-lon="151.2093" data-translate="sydney"
                    role="option"></button>
                <button class="city-chip" data-lat="25.228110" data-lon="55.272128" data-translate="dubai"
                    role="option"></button>
                <button class="city-chip" data-lat="43.670942" data-lon="-79.387338" data-translate="toronto"
                    role="option"></button>
                <button class="city-chip" data-lat="34.0522" data-lon="-118.2437" data-translate="losAngeles"
                    role="option"></button>
                <button class="city-chip" data-lat="1.284962" data-lon="103.837708" data-translate="singapore"
                    role="option"></button>
                <button class="my-loction-chip" data-translate="myLocation" role="option"></button>
            </div>
            <button id="scroll-right" class="scroll-btn right" aria-label="Scroll Right">&gt;</button>
        </div>
    </div>

    <!-- ✅ Fullscreen Map -->
    <div id="map"></div>

    <!-- ✅ Loading Indicator -->
    <div id="loading" data-translate="loadingText"></div>

    <!-- ✅ External JavaScript File -->
    <script type="module" src="map-script.js"></script>
</body>

</html>